<!DOCTYPE html>
<html lang="pt-BR" data-i18n-lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pre√ßos - Steam Achievements Explorer</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Rajdhani:wght@300;400;600;700&family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="languages.js"></script>
    <style>
        :root {
            --bg-primary: #0a0a1a;
            --bg-secondary: #12122a;
            --bg-card: #1a1a3a;
            --text-primary: #e0e0ff;
            --text-secondary: #a0a0c0;
            --accent: #00d4ff;
            --accent-glow: rgba(0, 212, 255, 0.3);
            --success: #00ff88;
            --warning: #ffaa00;
            --danger: #ff4466;
            --border-color: rgba(0, 212, 255, 0.2);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
            min-height: 100vh;
            color: var(--text-primary);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .main-header {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: var(--bg-card);
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid var(--border-color);
            gap: 15px;
        }

        .logo-area {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .site-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            background: linear-gradient(135deg, var(--accent), var(--success));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .main-nav {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 8px 16px;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .nav-btn:hover, .nav-btn.active {
            background: var(--accent);
            color: var(--bg-primary);
            box-shadow: 0 0 15px var(--accent-glow);
        }

        .header-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .header-controls select {
            padding: 8px 12px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            cursor: pointer;
        }

        /* Main Content */
        .price-layout {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 30px;
        }

        @media (max-width: 1000px) {
            .price-layout {
                grid-template-columns: 1fr;
            }
        }

        /* Sidebar */
        .sidebar {
            background: var(--bg-card);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid var(--border-color);
            height: fit-content;
        }

        .sidebar h2 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: var(--accent);
        }

        .search-box {
            position: relative;
            margin-bottom: 20px;
        }

        .search-box input {
            width: 100%;
            padding: 12px 40px 12px 15px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s;
        }

        .search-box input:focus {
            border-color: var(--accent);
        }

        .search-box i {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }

        .search-results {
            max-height: 200px;
            overflow-y: auto;
            background: var(--bg-secondary);
            border-radius: 8px;
            display: none;
            margin-bottom: 15px;
        }

        .search-results.active {
            display: block;
        }

        .search-result-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            cursor: pointer;
            transition: background 0.3s;
            border-bottom: 1px solid var(--border-color);
        }

        .search-result-item:hover {
            background: rgba(0, 212, 255, 0.1);
        }

        .search-result-item img {
            width: 60px;
            height: 28px;
            object-fit: cover;
            border-radius: 4px;
        }

        .search-result-item span {
            font-weight: 600;
            color: var(--text-primary);
        }

        /* Games List */
        .games-list h3 {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .game-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px;
            background: var(--bg-secondary);
            border-radius: 10px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid transparent;
        }

        .game-item:hover {
            border-color: var(--accent);
            transform: translateX(5px);
        }

        .game-item.active {
            border-color: var(--accent);
            background: rgba(0, 212, 255, 0.1);
        }

        .game-item img {
            width: 80px;
            height: 38px;
            object-fit: cover;
            border-radius: 6px;
        }

        .game-item-info {
            flex: 1;
        }

        .game-item-name {
            font-weight: 600;
            font-size: 0.95rem;
        }

        .game-item-price {
            color: var(--success);
            font-weight: 700;
        }

        /* Main Panel */
        .main-panel {
            background: var(--bg-card);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid var(--border-color);
        }

        .selected-game-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .selected-game-img {
            width: 300px;
            height: 140px;
            object-fit: cover;
            border-radius: 12px;
            border: 2px solid var(--border-color);
        }

        .selected-game-info h2 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .current-price {
            font-size: 2rem;
            font-weight: 700;
            color: var(--success);
        }

        .price-details {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }

        .price-detail {
            display: flex;
            flex-direction: column;
        }

        .price-detail label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .price-detail span {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .price-detail span.low { color: var(--success); }
        .price-detail span.high { color: var(--danger); }

        /* Chart */
        .chart-container {
            position: relative;
            height: 350px;
            margin-top: 20px;
        }

        /* Info Cards */
        .info-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 25px;
        }

        .info-card {
            background: var(--bg-secondary);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .info-card i {
            font-size: 1.5rem;
            color: var(--accent);
            margin-bottom: 8px;
        }

        .info-card .value {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .info-card .label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* Loading */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(10, 10, 26, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .loading-overlay.active {
            display: flex;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 4px solid var(--border-color);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Theme CSS */
        body.theme-rgb {
            animation: rgbBackground 10s linear infinite;
        }
        @keyframes rgbBackground {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }
        body.theme-light {
            --bg-primary: #f5f5f5;
            --bg-secondary: #e8e8e8;
            --bg-card: #ffffff;
            --text-primary: #1a1a2e;
            --text-secondary: #555;
            --border-color: rgba(0, 0, 0, 0.1);
        }
        body.theme-dark {
            --bg-primary: #000;
            --bg-secondary: #0a0a0a;
            --bg-card: #111;
        }
        body.theme-retro {
            --bg-primary: #1a0a2e;
            --bg-secondary: #2d1b4e;
            --bg-card: #3d2b5e;
            --accent: #ff00ff;
            --accent-glow: rgba(255, 0, 255, 0.3);
        }
        body.theme-matrix {
            --bg-primary: #000a00;
            --bg-secondary: #001a00;
            --bg-card: #002200;
            --accent: #00ff00;
            --text-primary: #00ff00;
        }
        body.theme-fire {
            --bg-primary: #1a0500;
            --bg-secondary: #2a0a00;
            --bg-card: #3a1500;
            --accent: #ff6600;
            --accent-glow: rgba(255, 102, 0, 0.3);
        }

        /* No Game Selected */
        .no-game-selected {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-secondary);
        }

        .no-game-selected i {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        /* Store Link */
        .store-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-top: 15px;
            padding: 10px 20px;
            background: linear-gradient(135deg, #1b2838, #2a475e);
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .store-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="main-header">
            <div class="logo-area">
                <i class="fas fa-tags fa-2x" style="color:var(--success)"></i>
                <h1 class="site-title" data-i18n-key="priceHistory">Hist√≥rico de Pre√ßos</h1>
            </div>
            <div class="main-nav">
                <a href="index.html" class="nav-btn" data-i18n-key="nav_library">BIBLIOTECA</a>
                <a href="hall.html" class="nav-btn" data-i18n-key="nav_hall">HALL</a>
                <a href="roleta.html" class="nav-btn" data-i18n-key="nav_roulette">ROLETA</a>
                <a href="precos.html" class="nav-btn active" data-i18n-key="nav_prices">PRE√áOS</a>
                <a href="level.html" class="nav-btn" data-i18n-key="nav_xp">LEVEL</a>
            </div>
            <div class="header-controls">
                <select id="themeSelector" onchange="changeTheme(this.value)">
                    <option value="default">üéÆ Padr√£o</option>
                    <option value="rgb">üåà RGB</option>
                    <option value="light">‚òÄÔ∏è Claro</option>
                    <option value="dark">üåô Escuro</option>
                    <option value="retro">üëæ Retro</option>
                    <option value="matrix">üíä Matrix</option>
                    <option value="fire">üî• Fire</option>
                </select>
                <select id="langSelector" onchange="setLanguage(this.value)">
                    <option value="pt">üáßüá∑ Portugu√™s</option>
                    <option value="en">üá∫üá∏ English</option>
                    <option value="es">üá™üá∏ Espa√±ol</option>
                    <option value="fr">üá´üá∑ Fran√ßais</option>
                    <option value="de">üá©üá™ Deutsch</option>
                    <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
                    <option value="ja">üáØüáµ Êó•Êú¨Ë™û</option>
                    <option value="zh">üá®üá≥ ‰∏≠Êñá</option>
                </select>
            </div>
        </header>

        <div class="price-layout">
            <!-- Sidebar -->
            <div class="sidebar">
                <h2><i class="fas fa-search"></i> <span data-i18n-key="search">Buscar Jogo</span></h2>
                <div class="search-box">
                    <input type="text" id="searchInput" data-i18n-placeholder="prices_search" placeholder="Digite o nome do jogo..." oninput="searchGame(this.value)">
                    <i class="fas fa-search"></i>
                </div>
                <div class="search-results" id="searchResults"></div>

                <div class="games-list">
                    <h3><i class="fas fa-fire"></i> <span data-i18n-key="bestPricesNow">Jogos Populares</span></h3>
                    <div id="popularGames"></div>
                </div>
            </div>

            <!-- Main Panel -->
            <div class="main-panel">
                <div id="gameDisplay">
                    <div class="no-game-selected">
                        <i class="fas fa-gamepad"></i>
                        <h2 data-i18n-key="selectGame">Selecione um jogo</h2>
                        <p data-i18n-key="noGamesFound">Escolha um jogo da lista ou pesquise para ver o hist√≥rico de pre√ßos</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
    </div>

    <script>
        // Jogos populares com seus appids da Steam
        const popularGames = [
            { appid: 1245620, name: "Elden Ring" },
            { appid: 1174180, name: "Red Dead Redemption 2" },
            { appid: 1091500, name: "Cyberpunk 2077" },
            { appid: 1938090, name: "Call of Duty" },
            { appid: 292030, name: "The Witcher 3" },
            { appid: 1151640, name: "Horizon Zero Dawn" },
            { appid: 271590, name: "GTA V" },
            { appid: 814380, name: "Sekiro" },
            { appid: 1817070, name: "Hogwarts Legacy" },
            { appid: 570, name: "Dota 2" },
            { appid: 730, name: "CS2" },
            { appid: 252490, name: "Rust" },
            { appid: 1599340, name: "Lost Ark" },
            { appid: 413150, name: "Stardew Valley" },
            { appid: 1086940, name: "Baldur's Gate 3" }
        ];

        let selectedGame = null;
        let priceChart = null;

        // Inicializa√ß√£o
        window.onload = () => {
            loadTheme();
            renderPopularGames();
        };

        // Renderizar jogos populares
        function renderPopularGames() {
            const container = document.getElementById('popularGames');
            container.innerHTML = popularGames.map(game => `
                <div class="game-item" onclick="selectGame(${game.appid}, '${game.name.replace(/'/g, "\\'")}')">
                    <img src="https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/${game.appid}/header.jpg" 
                         alt="${game.name}"
                         onerror="this.src='https://via.placeholder.com/80x38?text=No+Image'">
                    <div class="game-item-info">
                        <div class="game-item-name">${game.name}</div>
                    </div>
                </div>
            `).join('');
        }

        // Buscar jogo na Steam
        let searchTimeout;
        async function searchGame(query) {
            clearTimeout(searchTimeout);
            const resultsContainer = document.getElementById('searchResults');
            
            if (query.length < 2) {
                resultsContainer.classList.remove('active');
                return;
            }

            searchTimeout = setTimeout(async () => {
                try {
                    // Usando API do Steam Search
                    const response = await fetch(`https://steamcommunity.com/actions/SearchApps/${encodeURIComponent(query)}`);
                    const data = await response.json();
                    
                    if (data && data.length > 0) {
                        resultsContainer.innerHTML = data.slice(0, 8).map(game => `
                            <div class="search-result-item" onclick="selectGame(${game.appid}, '${game.name.replace(/'/g, "\\'")}')">
                                <img src="https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/${game.appid}/header.jpg" 
                                     alt="${game.name}"
                                     onerror="this.src='https://via.placeholder.com/60x28?text=No+Image'">
                                <span>${game.name}</span>
                            </div>
                        `).join('');
                        resultsContainer.classList.add('active');
                    } else {
                        resultsContainer.innerHTML = '<div style="padding: 15px; text-align: center; color: var(--text-secondary);">Nenhum resultado encontrado</div>';
                        resultsContainer.classList.add('active');
                    }
                } catch (err) {
                    console.error('Erro na busca:', err);
                    resultsContainer.innerHTML = '<div style="padding: 15px; text-align: center; color: var(--danger);">Erro na busca</div>';
                    resultsContainer.classList.add('active');
                }
            }, 300);
        }

        // Selecionar jogo
        async function selectGame(appid, name) {
            selectedGame = { appid, name };
            
            // Fechar resultados de busca
            document.getElementById('searchResults').classList.remove('active');
            document.getElementById('searchInput').value = '';

            // Marcar item ativo
            document.querySelectorAll('.game-item').forEach(item => item.classList.remove('active'));
            
            // Mostrar loading
            document.getElementById('loadingOverlay').classList.add('active');

            try {
                // Buscar dados de pre√ßo (usando IsThereAnyDeal API simulada com dados da Steam)
                const priceData = await fetchPriceHistory(appid);
                renderGameDetails(appid, name, priceData);
            } catch (err) {
                console.error('Erro ao carregar pre√ßos:', err);
                document.getElementById('gameDisplay').innerHTML = `
                    <div class="no-game-selected">
                        <i class="fas fa-exclamation-triangle" style="color: var(--warning);"></i>
                        <h2>Erro ao carregar dados</h2>
                        <p>N√£o foi poss√≠vel obter o hist√≥rico de pre√ßos. Tente novamente.</p>
                    </div>
                `;
            } finally {
                document.getElementById('loadingOverlay').classList.remove('active');
            }
        }

        // Buscar hist√≥rico de pre√ßos (simulado com dados realistas)
        async function fetchPriceHistory(appid) {
            // Como n√£o temos acesso direto ao IsThereAnyDeal, vamos simular dados de hist√≥rico
            // Em produ√ß√£o, voc√™ usaria a API do IsThereAnyDeal ou SteamDB
            
            try {
                // Tentar pegar pre√ßo atual da Steam
                const response = await fetch(`https://store.steampowered.com/api/appdetails?appids=${appid}&cc=br&filters=price_overview`);
                const data = await response.json();
                
                let currentPrice = 199.99;
                let discount = 0;
                
                if (data && data[appid] && data[appid].success && data[appid].data && data[appid].data.price_overview) {
                    const priceInfo = data[appid].data.price_overview;
                    currentPrice = priceInfo.final / 100;
                    discount = priceInfo.discount_percent;
                }

                // Gerar hist√≥rico simulado baseado no pre√ßo atual
                const basePrice = currentPrice * (1 + discount / 100);
                const history = generatePriceHistory(basePrice, currentPrice);

                return {
                    current: currentPrice,
                    lowest: Math.min(...history.map(h => h.price)),
                    highest: basePrice,
                    discount: discount,
                    history: history
                };
            } catch (err) {
                // Fallback com dados simulados
                const basePrice = 199.99;
                const currentPrice = 149.99;
                return {
                    current: currentPrice,
                    lowest: 99.99,
                    highest: basePrice,
                    discount: 25,
                    history: generatePriceHistory(basePrice, currentPrice)
                };
            }
        }

        // Gerar hist√≥rico de pre√ßos simulado
        function generatePriceHistory(basePrice, currentPrice) {
            const history = [];
            const now = new Date();
            
            // Gerar 12 meses de hist√≥rico
            for (let i = 11; i >= 0; i--) {
                const date = new Date(now);
                date.setMonth(date.getMonth() - i);
                
                // Pre√ßos variam entre 60% e 100% do pre√ßo base, com promo√ß√µes ocasionais
                let variation = 0.8 + Math.random() * 0.2;
                
                // Simular promo√ß√µes em meses espec√≠ficos (junho/dezembro - Steam Sales)
                const month = date.getMonth();
                if (month === 5 || month === 11) {
                    variation = 0.5 + Math.random() * 0.2;
                }
                
                history.push({
                    date: date.toLocaleDateString('pt-BR', { month: 'short', year: '2-digit' }),
                    price: parseFloat((basePrice * variation).toFixed(2))
                });
            }

            // √öltimo ponto √© o pre√ßo atual
            history[history.length - 1].price = currentPrice;

            return history;
        }

        // Renderizar detalhes do jogo
        function renderGameDetails(appid, name, priceData) {
            const display = document.getElementById('gameDisplay');
            
            display.innerHTML = `
                <div class="selected-game-header">
                    <img class="selected-game-img" 
                         src="https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/${appid}/header.jpg"
                         alt="${name}"
                         onerror="this.src='https://via.placeholder.com/300x140?text=No+Image'">
                    <div class="selected-game-info">
                        <h2>${name}</h2>
                        <div class="current-price">R$ ${priceData.current.toFixed(2)}</div>
                        ${priceData.discount > 0 ? `<span style="color: var(--success); font-weight: 600;">-${priceData.discount}% OFF</span>` : ''}
                        <div class="price-details">
                            <div class="price-detail">
                                <label>Menor pre√ßo</label>
                                <span class="low">R$ ${priceData.lowest.toFixed(2)}</span>
                            </div>
                            <div class="price-detail">
                                <label>Maior pre√ßo</label>
                                <span class="high">R$ ${priceData.highest.toFixed(2)}</span>
                            </div>
                        </div>
                        <a href="https://store.steampowered.com/app/${appid}" target="_blank" class="store-link">
                            <i class="fab fa-steam"></i> Ver na Steam
                        </a>
                    </div>
                </div>

                <h3 style="font-family: 'Orbitron', sans-serif; margin-bottom: 15px;">
                    <i class="fas fa-chart-line" style="color: var(--accent);"></i> Hist√≥rico de Pre√ßos (12 meses)
                </h3>
                <div class="chart-container">
                    <canvas id="priceChart"></canvas>
                </div>

                <div class="info-cards">
                    <div class="info-card">
                        <i class="fas fa-percentage"></i>
                        <div class="value">${priceData.discount}%</div>
                        <div class="label">Desconto Atual</div>
                    </div>
                    <div class="info-card">
                        <i class="fas fa-arrow-down"></i>
                        <div class="value" style="color: var(--success);">R$ ${priceData.lowest.toFixed(2)}</div>
                        <div class="label">Menor Hist√≥rico</div>
                    </div>
                    <div class="info-card">
                        <i class="fas fa-arrow-up"></i>
                        <div class="value" style="color: var(--danger);">R$ ${priceData.highest.toFixed(2)}</div>
                        <div class="label">Maior Hist√≥rico</div>
                    </div>
                    <div class="info-card">
                        <i class="fas fa-chart-bar"></i>
                        <div class="value">R$ ${(priceData.history.reduce((a, b) => a + b.price, 0) / priceData.history.length).toFixed(2)}</div>
                        <div class="label">M√©dia</div>
                    </div>
                </div>
            `;

            // Renderizar gr√°fico
            renderChart(priceData.history);
        }

        // Renderizar gr√°fico de pre√ßos
        function renderChart(history) {
            const ctx = document.getElementById('priceChart').getContext('2d');
            
            // Destruir gr√°fico anterior se existir
            if (priceChart) {
                priceChart.destroy();
            }

            const gradient = ctx.createLinearGradient(0, 0, 0, 300);
            gradient.addColorStop(0, 'rgba(0, 212, 255, 0.3)');
            gradient.addColorStop(1, 'rgba(0, 212, 255, 0)');

            priceChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: history.map(h => h.date),
                    datasets: [{
                        label: 'Pre√ßo (R$)',
                        data: history.map(h => h.price),
                        borderColor: '#00d4ff',
                        backgroundColor: gradient,
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#00d4ff',
                        pointBorderColor: '#fff',
                        pointRadius: 4,
                        pointHoverRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: 'rgba(26, 26, 58, 0.95)',
                            titleColor: '#00d4ff',
                            bodyColor: '#fff',
                            borderColor: '#00d4ff',
                            borderWidth: 1,
                            padding: 12,
                            displayColors: false,
                            callbacks: {
                                label: function(context) {
                                    return 'R$ ' + context.raw.toFixed(2);
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#a0a0c0'
                            }
                        },
                        y: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#a0a0c0',
                                callback: function(value) {
                                    return 'R$ ' + value;
                                }
                            }
                        }
                    }
                }
            });
        }

        // Tema
        function loadTheme() {
            const savedTheme = localStorage.getItem('selectedTheme') || 'default';
            document.body.classList.remove('theme-rgb', 'theme-retro', 'theme-light', 'theme-dark', 'theme-matrix', 'theme-fire');
            if (savedTheme !== 'default') {
                document.body.classList.add('theme-' + savedTheme);
            }
            document.getElementById('themeSelector').value = savedTheme;
        }

        function changeTheme(theme) {
            document.body.classList.remove('theme-rgb', 'theme-retro', 'theme-light', 'theme-dark', 'theme-matrix', 'theme-fire');
            if (theme !== 'default') {
                document.body.classList.add('theme-' + theme);
            }
            localStorage.setItem('selectedTheme', theme);
        }
    </script>
</body>
</html>